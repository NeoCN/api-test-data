
config:
    name: "get stores"
    variables:
        organization_id: 7aa72ed750534e5d8224f9fe41a33321
        app_platform: shopify
        app_key: top-ten-dad
    base_url: "https://platform.automizelyapi.io"
    verify: True

teststeps:
-
    name: get stores success
    request:
        method: GET
        url: /connectors/v2/stores
        params:
            organization_id: $organization_id
            app_platform: $app_platform
            app_key: $app_key
        headers:
            User-Agent: HttpRunner/${get_httprunner_version()}
            am-api-key: ${get_am_api_key()}
    validate:
        - eq: ["body.meta.code", 20000]
        - eq: ["body.data.stores[0].id", "008ca87d3f0343ea8367b57de54ecd8c"]
-
    name: get store with wrong app_key
    variables:
        app_key: top-ten-dad-wrong
    request:
        method: GET
        url: /connectors/v2/stores
        params:
            organization_id: $organization_id
            app_platform: $app_platform
            app_key: $app_key
        headers:
            User-Agent: HttpRunner/${get_httprunner_version()}
            am-api-key: ${get_am_api_key()}
    validate:
        - eq: ["body.meta.code", 20000]
        - eq: ["body.data.stores",[]]